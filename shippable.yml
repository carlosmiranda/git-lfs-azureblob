language: java

jdk:
  - oraclejdk8

before_script:
  - export JAVA_HOME="/usr/lib/jvm/java-8-oracle"; export PATH="$PATH:/usr/lib/jvm/java-8-oracle/bin"
  - update-alternatives --set java /usr/lib/jvm/java-8-oracle/jre/bin/java
  - java -version

env:
  global:
    - secure: e+i358lBUTiWnCexbLd1LRcVPVcAcqh+RzBh++6QOiDP6cjcPVWZnOj6b1CmXoBAp/afTVWvHFfx7Ys/dpM2DuOfDcwX7sEJyk1Ee8KeqbMJAmvSP3XntbBLKx1knZjrUx9xfdZsMVys9Ho1iOQu8AIkwGVSWakdMTHt1wkvGJ1S3udG0B+P4bdEYv4dA48odutQzX1GmtVWm/8YvfnVMdhC7+5eOl3o4Otsap28upTr4oNuhC2yayjgFzXrAQ9/VV90Nj83XYSsaAWlviCzMTlxDOxJuKg0w6FfhRIZSzp27Ctj3NM75tegpBhGYxLKmhJU8YyfVCBqV10Ls9ncRA==

build:
  ci:
    - sudo update-alternatives --set java /usr/lib/jvm/java-8-oracle/jre/bin/java
    - sudo update-alternatives --set javac /usr/lib/jvm/java-8-oracle/bin/javac
    - mvn clean verify coveralls:report jacoco:report -Dcoveralls.token=$COVERALLS_TOKEN -Dstorage.account=$STORAGE_ACCOUNT -Dstorage.key=$STORAGE_KEY
